<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å”®åç ”å‘æ§åˆ¶å°</title>
    <style>
        /* æ·±è‰²é»‘å®¢é£æ ·å¼ */
        body { background-color: #0d1117; color: #c9d1d9; font-family: sans-serif; margin: 0; padding: 20px; }
        .header { border-bottom: 1px solid #30363d; padding-bottom: 15px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { margin: 0; font-size: 18px; color: #58a6ff; }
        .issue-list { list-style: none; padding: 0; margin: 0; }
        .issue-item { background-color: #161b22; border: 1px solid #30363d; border-radius: 6px; padding: 16px; margin-bottom: 12px; }
        .issue-title { font-size: 16px; font-weight: 600; color: #e6edf3; margin-bottom: 8px; display: flex; align-items: center; }
        .labels { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
        .label { font-size: 12px; padding: 2px 8px; border-radius: 2em; border: 1px solid #30363d; color: #8b949e; }
        .label[data-name*="è¿›è¡Œä¸­"] { color: #58a6ff; border-color: rgba(56,139,253,0.4); background: rgba(56,139,253,0.1); }
        .label[data-name*="å·²å‘å¸ƒ"] { color: #3fb950; border-color: rgba(63,185,80,0.4); background: rgba(63,185,80,0.1); }
        .meta { margin-top: 12px; font-size: 12px; color: #8b949e; display: flex; justify-content: space-between; }
    </style>
</head>
<body>
    <div class="header"><h1>ğŸš€ ç ”å‘å®æ—¶çœ‹æ¿</h1><span onclick="loadIssues()" style="cursor:pointer">ğŸ”„ åˆ·æ–°</span></div>
    <div id="loading" style="text-align:center; color:#58a6ff;">ğŸ“¡ æ­£åœ¨è¿æ¥ Gitee å«æ˜Ÿæ•°æ®...</div>
    <ul class="issue-list" id="container"></ul>

    <script>
        // âœ… å·²æ ¹æ®ä½ çš„æˆªå›¾è‡ªåŠ¨é…ç½®å¥½: ç”¨æˆ· qiao, ä»“åº“ dashboard
        const owner = 'beilushouhou';
        const repo = 'control-panel';

        async function loadIssues() {
            const container = document.getElementById('container');
            const loading = document.getElementById('loading');
            container.innerHTML = ''; loading.style.display = 'block';
            try {
                // è¯»å– Gitee Issue æ¥å£
                const url = `https://gitee.com/api/v5/repos/${owner}/${repo}/issues?state=all&sort=updated&direction=desc&per_page=20`;
                const response = await fetch(url);
                const data = await response.json();
                loading.style.display = 'none';

                if(data.length === 0) {
                    container.innerHTML = '<div style="text-align:center; padding:20px; color:#8b949e">æš‚æ— ä»»åŠ¡<br>è¯·å»ä¸Šæ–¹ "Issues" æ æ–°å»ºä»»åŠ¡</div>';
                    return;
                }

                data.forEach(issue => {
                    const li = document.createElement('li');
                    li.className = 'issue-item';
                    let labelHtml = '';
                    issue.labels.forEach(lbl => { labelHtml += `<span class="label" data-name="${lbl.name}">${lbl.name}</span>`; });
                    const stateIcon = issue.state === 'open' ? 'ğŸŸ¢' : 'ğŸŸ£';

                    li.innerHTML = `
                        <div class="issue-title">${stateIcon} ${issue.title}</div>
                        <div class="labels">${labelHtml}</div>
                        <div class="meta"><span>#${issue.number}</span><span>ğŸ•’ ${new Date(issue.updated_at).toLocaleDateString()}</span></div>
                    `;
                    container.appendChild(li);
                });
            } catch (e) { loading.innerText = 'âŒ åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»“åº“æ˜¯å¦å¼€æº'; }
        }
        loadIssues();
    </script>
</body>

</html>

